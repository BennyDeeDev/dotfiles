if [ -n "$ZSH_VERSION" ]; then
  autoload -Uz compinit && compinit
  autoload -U up-line-or-beginning-search down-line-or-beginning-search
  zle -N up-line-or-beginning-search
  zle -N down-line-or-beginning-search
  bindkey "^[[A" up-line-or-beginning-search
  bindkey "^[[B" down-line-or-beginning-search
fi

if command -v mise &> /dev/null; then
  if [ -n "$ZSH_VERSION" ]; then
    eval "$(mise activate zsh)"
  else
    eval "$(mise activate bash)"
  fi
fi

if command -v gh &> /dev/null; then
  if [ -n "$ZSH_VERSION" ]; then
    source <(gh completion -s zsh)
  else
    source <(gh completion -s bash)
  fi
fi

if command -v zoxide &> /dev/null; then
  if [ -n "$ZSH_VERSION" ]; then
    eval "$(zoxide init zsh)"
  else
    eval "$(zoxide init bash)"
  fi
fi

if command -v fzf &> /dev/null; then
  if [ -n "$ZSH_VERSION" ]; then
    source <(fzf --zsh)
  else
    eval "$(fzf --bash)"
  fi
fi

if command -v docker &> /dev/null; then
  if [ -n "$ZSH_VERSION" ]; then
    source <(docker completion zsh)
  else
    source <(docker completion bash)
  fi
fi

if command -v kubectl &> /dev/null; then
  if [ -n "$ZSH_VERSION" ]; then
    source <(kubectl completion zsh)
  else
    source <(kubectl completion bash)
  fi
fi

if command -v helm &> /dev/null; then
  if [ -n "$ZSH_VERSION" ]; then
    source <(helm completion zsh)
  else
    source <(helm completion bash)
  fi
fi

if command -v flux &> /dev/null; then
  if [ -n "$ZSH_VERSION" ]; then
    source <(flux completion zsh)
  else
    source <(flux completion bash)
  fi
fi

if command -v starship &> /dev/null; then
  if [ -n "$ZSH_VERSION" ]; then
    eval "$(starship init zsh)"
  else
    eval "$(starship init bash)"
  fi
fi